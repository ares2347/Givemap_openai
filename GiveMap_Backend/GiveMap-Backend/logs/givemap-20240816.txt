2024-08-16 14:14:17.491 +07:00 [INF] User profile is available. Using 'C:\Users\trant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-16 14:14:17.741 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-16 14:14:17.742 +07:00 [INF] Hosting environment: Development
2024-08-16 14:14:17.742 +07:00 [INF] Content root path: D:\Repositories\OpenAI\GiveMap\GiveMap-Backend\GiveMap-Backend
2024-08-16 14:14:17.770 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger - -
2024-08-16 14:14:17.856 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger/index.html - -
2024-08-16 14:14:17.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger - - - 301 - - 93.0331ms
2024-08-16 14:14:18.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger/index.html - - - 200 - text/html;charset=utf-8 212.3535ms
2024-08-16 14:14:18.074 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger/swagger-ui-bundle.js - -
2024-08-16 14:14:18.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger/swagger-ui.css - -
2024-08-16 14:14:18.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger/swagger-ui-standalone-preset.js - -
2024-08-16 14:14:18.132 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-08-16 14:14:18.132 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-08-16 14:14:18.140 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger/swagger-ui.css - - - 200 143943 text/css 65.3565ms
2024-08-16 14:14:18.141 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-08-16 14:14:18.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger/swagger-ui-standalone-preset.js - - - 200 339486 text/javascript 74.1974ms
2024-08-16 14:14:18.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger/swagger-ui-bundle.js - - - 200 1096145 text/javascript 121.1164ms
2024-08-16 14:14:18.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger/v1/swagger.json - -
2024-08-16 14:14:18.433 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/swagger/favicon-32x32.png - -
2024-08-16 14:14:18.435 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-08-16 14:14:18.436 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger/favicon-32x32.png - - - 200 628 image/png 3.0088ms
2024-08-16 14:14:18.717 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 313.8722ms
2024-08-16 14:14:39.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:14:39.817 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:14:40.849 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:14:40.907 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:14:42.147 +07:00 [WRN] The property 'Location.ImageUrls' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-08-16 14:14:43.796 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:14:43.934 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 6 results.
2024-08-16 14:14:43.943 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:14:43.990 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 3077.0668ms
2024-08-16 14:14:43.991 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:14:44.008 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 4198.2558ms
2024-08-16 14:14:58.116 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=a - -
2024-08-16 14:14:58.121 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:14:58.127 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:14:58.133 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:14:58.137 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=a - - - 401 - - 21.6206ms
2024-08-16 14:15:08.120 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:15:08.121 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:08.130 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:15:08.131 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:15:08.184 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:15:08.189 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 6 results.
2024-08-16 14:15:08.192 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:15:08.194 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 62.9355ms
2024-08-16 14:15:08.194 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:15:08.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 75.0488ms
2024-08-16 14:15:13.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=a - -
2024-08-16 14:15:13.195 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:13.196 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:15:13.197 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:15:13.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=a - - - 401 - - 3.7422ms
2024-08-16 14:15:26.881 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/user/login - -
2024-08-16 14:15:26.881 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:26.883 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/user/login - - - 204 - - 2.3777ms
2024-08-16 14:15:26.885 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/user/login application/json 51
2024-08-16 14:15:26.887 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:26.887 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:15:26.894 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GiveMap_Backend.Controllers.LoginModel) on controller GiveMap_Backend.Controllers.UserController (GiveMap-Backend).
2024-08-16 14:15:27.175 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-08-16 14:15:27.177 +07:00 [WRN] Failed login attempt for user: test1@email.com
2024-08-16 14:15:27.178 +07:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-16 14:15:27.180 +07:00 [INF] Executed action GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend) in 285.2184ms
2024-08-16 14:15:27.180 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:15:27.180 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/user/login application/json 51 - 401 - application/json;+charset=utf-8 294.6813ms
2024-08-16 14:15:42.770 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/user/login - -
2024-08-16 14:15:42.770 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:42.771 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/user/login - - - 204 - - 0.9049ms
2024-08-16 14:15:42.773 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/user/login application/json 47
2024-08-16 14:15:42.774 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:42.853 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '13/08/2024 03:51:22', Current time (UTC): '16/08/2024 07:15:42'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-08-16 14:15:42.865 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '13/08/2024 03:51:22', Current time (UTC): '16/08/2024 07:15:42'.
2024-08-16 14:15:42.865 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:15:42.865 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GiveMap_Backend.Controllers.LoginModel) on controller GiveMap_Backend.Controllers.UserController (GiveMap-Backend).
2024-08-16 14:15:42.870 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-08-16 14:15:43.241 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-08-16 14:15:43.256 +07:00 [INF] Updated last login date for user ID: 2
2024-08-16 14:15:43.256 +07:00 [INF] User authenticated: test@test.com
2024-08-16 14:15:43.256 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-16 14:15:43.257 +07:00 [INF] Executed action GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend) in 391.8826ms
2024-08-16 14:15:43.257 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:15:43.258 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/user/login application/json 47 - 200 - application/json;+charset=utf-8 484.2579ms
2024-08-16 14:15:43.277 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:15:43.277 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:43.277 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.5506ms
2024-08-16 14:15:43.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:15:43.282 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:15:43.295 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:15:43.295 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:15:43.301 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:15:43.302 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 6 results.
2024-08-16 14:15:43.303 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:15:43.304 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 9.221ms
2024-08-16 14:15:43.305 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:15:43.305 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 23.6737ms
2024-08-16 14:22:59.817 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/user/login - -
2024-08-16 14:22:59.817 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:22:59.818 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/user/login - - - 204 - - 0.5453ms
2024-08-16 14:22:59.819 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/user/login application/json 47
2024-08-16 14:22:59.819 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:22:59.820 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:22:59.820 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GiveMap_Backend.Controllers.LoginModel) on controller GiveMap_Backend.Controllers.UserController (GiveMap-Backend).
2024-08-16 14:22:59.828 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-08-16 14:22:59.996 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-08-16 14:22:59.997 +07:00 [INF] Updated last login date for user ID: 2
2024-08-16 14:22:59.997 +07:00 [INF] User authenticated: test@test.com
2024-08-16 14:22:59.997 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-16 14:22:59.998 +07:00 [INF] Executed action GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend) in 177.8434ms
2024-08-16 14:22:59.998 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:22:59.998 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/user/login application/json 47 - 200 - application/json;+charset=utf-8 178.4280ms
2024-08-16 14:23:00.023 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:23:00.024 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:00.025 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 1.3553ms
2024-08-16 14:23:00.028 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:23:00.029 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:00.029 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:23:00.030 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:23:00.036 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:23:00.038 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 6 results.
2024-08-16 14:23:00.038 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:23:00.039 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 9.0531ms
2024-08-16 14:23:00.039 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:23:00.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 10.7960ms
2024-08-16 14:23:01.535 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - -
2024-08-16 14:23:01.535 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:01.536 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - - - 204 - - 0.5679ms
2024-08-16 14:23:01.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/user/donations - -
2024-08-16 14:23:01.539 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:01.540 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:23:01.543 +07:00 [INF] Route matched with {action = "GetUserDonations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDonations() on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:23:01.619 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Condition], [d].[ContactInfo], [d].[CreatedAt], [d].[Description], [d].[NeedId], [d].[Quantity], [d].[Status], [d].[UserId], [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity], [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Donations] AS [d]
INNER JOIN [Needs] AS [n] ON [d].[NeedId] = [n].[Id]
INNER JOIN [Locations] AS [l] ON [n].[LocationId] = [l].[Id]
WHERE [d].[UserId] = @__userId_0
ORDER BY [d].[CreatedAt] DESC
2024-08-16 14:23:01.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Donation, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:23:01.652 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend) in 108.5291ms
2024-08-16 14:23:01.652 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:23:01.652 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/user/donations - - - 200 - application/json;+charset=utf-8 114.1573ms
2024-08-16 14:23:03.850 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:23:03.850 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:03.851 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:23:03.851 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:23:03.854 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:23:03.854 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 6 results.
2024-08-16 14:23:03.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:23:03.855 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 3.6798ms
2024-08-16 14:23:03.855 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:23:03.855 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 5.4099ms
2024-08-16 14:23:30.780 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/user/register - -
2024-08-16 14:23:30.780 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:30.780 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/user/register - - - 204 - - 0.6780ms
2024-08-16 14:23:30.782 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/user/register application/json 76
2024-08-16 14:23:30.782 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:30.782 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.UserController.Register (GiveMap-Backend)'
2024-08-16 14:23:30.786 +07:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(GiveMap_Backend.Controllers.RegisterModel) on controller GiveMap_Backend.Controllers.UserController (GiveMap-Backend).
2024-08-16 14:23:30.991 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [IsEmailConfirmed], [LastLoginDate], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PasswordResetToken], [PasswordResetTokenExpires], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-08-16 14:23:31.003 +07:00 [INF] User registered successfully: test1@test.com
2024-08-16 14:23:31.003 +07:00 [INF] User registered: test1@test.com
2024-08-16 14:23:31.003 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-16 14:23:31.004 +07:00 [INF] Executed action GiveMap_Backend.Controllers.UserController.Register (GiveMap-Backend) in 217.2835ms
2024-08-16 14:23:31.004 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.UserController.Register (GiveMap-Backend)'
2024-08-16 14:23:31.004 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/user/register application/json 76 - 200 - application/json;+charset=utf-8 221.6281ms
2024-08-16 14:23:37.781 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/user/login - -
2024-08-16 14:23:37.781 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:37.781 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/user/login - - - 204 - - 0.3202ms
2024-08-16 14:23:37.784 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/user/login application/json 48
2024-08-16 14:23:37.784 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:37.784 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:23:37.784 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GiveMap_Backend.Controllers.LoginModel) on controller GiveMap_Backend.Controllers.UserController (GiveMap-Backend).
2024-08-16 14:23:37.788 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-08-16 14:23:37.933 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-08-16 14:23:37.934 +07:00 [INF] Updated last login date for user ID: 3
2024-08-16 14:23:37.934 +07:00 [INF] User authenticated: test1@test.com
2024-08-16 14:23:37.934 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-16 14:23:37.934 +07:00 [INF] Executed action GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend) in 149.9672ms
2024-08-16 14:23:37.934 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:23:37.934 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/user/login application/json 48 - 200 - application/json;+charset=utf-8 150.5965ms
2024-08-16 14:23:37.952 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:23:37.952 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:37.952 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.5052ms
2024-08-16 14:23:37.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:23:37.956 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:23:37.957 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:23:37.958 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:23:37.964 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:23:37.965 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 6 results.
2024-08-16 14:23:37.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:23:37.965 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 7.6244ms
2024-08-16 14:23:37.966 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:23:37.966 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 11.0798ms
2024-08-16 14:24:32.265 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:24:32.265 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:32.265 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.3482ms
2024-08-16 14:24:32.275 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location application/json 282
2024-08-16 14:24:32.275 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:32.275 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:24:32.279 +07:00 [INF] Route matched with {action = "AddLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLocation(GiveMap_Backend.Controllers.AddLocationModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:24:32.288 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-08-16 14:24:32.289 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend) in 10.4612ms
2024-08-16 14:24:32.289 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:24:32.289 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location application/json 282 - 400 - application/problem+json;+charset=utf-8 14.7291ms
2024-08-16 14:24:42.985 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:24:42.985 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:42.986 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.5488ms
2024-08-16 14:24:42.988 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location application/json 187
2024-08-16 14:24:42.988 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:42.988 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:24:42.988 +07:00 [INF] Route matched with {action = "AddLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLocation(GiveMap_Backend.Controllers.AddLocationModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:24:43.010 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Locations] ([Category], [CreatedAt], [Description], [ImageUrls], [Latitude], [Longitude], [Name], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-08-16 14:24:43.014 +07:00 [INF] New location added: 9 Ngõ 4, Nghĩa Đô, Cầu Giấy, Hà Nội, Vietnam at (21.047482789413564, 105.79657233651794)
2024-08-16 14:24:43.015 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:24:43.040 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend) in 52.0552ms
2024-08-16 14:24:43.041 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:24:43.041 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location application/json 187 - 201 - application/json;+charset=utf-8 53.0045ms
2024-08-16 14:24:54.422 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14 - -
2024-08-16 14:24:54.422 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:54.422 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14 - - - 204 - - 0.4775ms
2024-08-16 14:24:54.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14 - -
2024-08-16 14:24:54.424 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:54.425 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:24:54.426 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - -
2024-08-16 14:24:54.426 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:54.426 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - - - 204 - - 0.3626ms
2024-08-16 14:24:54.428 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14/needs - -
2024-08-16 14:24:54.429 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:24:54.429 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:24:54.435 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:24:54.435 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:24:54.444 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:24:54.445 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:24:54.446 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 10.4045ms
2024-08-16 14:24:54.446 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:24:54.446 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14/needs - - - 200 - application/json;+charset=utf-8 17.5314ms
2024-08-16 14:24:54.452 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:24:54.453 +07:00 [INF] Retrieved details for location ID: 14
2024-08-16 14:24:54.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:24:54.476 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 41.0138ms
2024-08-16 14:24:54.476 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:24:54.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14 - - - 200 - application/json;+charset=utf-8 52.0813ms
2024-08-16 14:25:18.996 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14 - -
2024-08-16 14:25:18.997 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:18.997 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14 - - - 204 - - 0.5140ms
2024-08-16 14:25:18.998 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - -
2024-08-16 14:25:18.998 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:18.998 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - - - 204 - - 0.1871ms
2024-08-16 14:25:19.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14/needs - -
2024-08-16 14:25:19.000 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:19.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14 - -
2024-08-16 14:25:19.000 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:19.000 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:25:19.000 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:25:19.000 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:25:19.000 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:25:19.002 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:25:19.002 +07:00 [INF] Retrieved details for location ID: 14
2024-08-16 14:25:19.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:25:19.003 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 2.2662ms
2024-08-16 14:25:19.003 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:25:19.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14 - - - 200 - application/json;+charset=utf-8 2.8165ms
2024-08-16 14:25:19.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:25:19.007 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:25:19.007 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 7.3994ms
2024-08-16 14:25:19.008 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:25:19.008 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14/needs - - - 200 - application/json;+charset=utf-8 8.2287ms
2024-08-16 14:25:40.433 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14 - -
2024-08-16 14:25:40.434 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:40.434 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14 - - - 204 - - 0.4124ms
2024-08-16 14:25:40.436 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - -
2024-08-16 14:25:40.436 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:40.436 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - - - 204 - - 0.2528ms
2024-08-16 14:25:40.436 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14 - -
2024-08-16 14:25:40.436 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:40.437 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:25:40.437 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:25:40.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14/needs - -
2024-08-16 14:25:40.438 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:25:40.438 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:25:40.438 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:25:40.439 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:25:40.439 +07:00 [INF] Retrieved details for location ID: 14
2024-08-16 14:25:40.439 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:25:40.440 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 2.9441ms
2024-08-16 14:25:40.440 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:25:40.440 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:25:40.440 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14 - - - 200 - application/json;+charset=utf-8 3.6278ms
2024-08-16 14:25:40.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:25:40.440 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 1.7245ms
2024-08-16 14:25:40.440 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:25:40.440 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14/needs - - - 200 - application/json;+charset=utf-8 2.3941ms
2024-08-16 14:26:39.643 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - -
2024-08-16 14:26:39.643 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:26:39.643 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - - - 204 - - 0.2476ms
2024-08-16 14:26:39.646 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location/14/needs application/json 61
2024-08-16 14:26:39.646 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:26:39.647 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend)'
2024-08-16 14:26:39.650 +07:00 [INF] Route matched with {action = "AddNeed", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNeed(Int32, GiveMap_Backend.Controllers.AddNeedModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:26:39.663 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Needs] ([Category], [CreatedAt], [Description], [LocationId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-08-16 14:26:39.665 +07:00 [INF] New need added for location ID: 14
2024-08-16 14:26:39.665 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Need'.
2024-08-16 14:26:39.665 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend) in 15.1115ms
2024-08-16 14:26:39.665 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend)'
2024-08-16 14:26:39.666 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location/14/needs application/json 61 - 201 - application/json;+charset=utf-8 19.5320ms
2024-08-16 14:27:33.741 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/needs/5/donations - -
2024-08-16 14:27:33.741 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:33.741 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/needs/5/donations - - - 204 - - 0.4552ms
2024-08-16 14:27:33.743 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location/needs/5/donations application/json 96
2024-08-16 14:27:33.744 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:33.744 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.OfferDonation (GiveMap-Backend)'
2024-08-16 14:27:33.747 +07:00 [INF] Route matched with {action = "OfferDonation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OfferDonation(Int32, GiveMap_Backend.Controllers.OfferDonationModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:27:33.785 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donations] ([Condition], [ContactInfo], [CreatedAt], [Description], [NeedId], [Quantity], [Status], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-08-16 14:27:33.789 +07:00 [INF] New donation offered for need ID: 5
2024-08-16 14:27:33.789 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Donation'.
2024-08-16 14:27:33.790 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.OfferDonation (GiveMap-Backend) in 42.3832ms
2024-08-16 14:27:33.790 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.OfferDonation (GiveMap-Backend)'
2024-08-16 14:27:33.790 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location/needs/5/donations application/json 96 - 201 - application/json;+charset=utf-8 47.0814ms
2024-08-16 14:27:39.237 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - -
2024-08-16 14:27:39.238 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:39.238 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - - - 204 - - 1.0404ms
2024-08-16 14:27:39.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/user/donations - -
2024-08-16 14:27:39.244 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:39.245 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:27:39.245 +07:00 [INF] Route matched with {action = "GetUserDonations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDonations() on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:27:39.251 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Condition], [d].[ContactInfo], [d].[CreatedAt], [d].[Description], [d].[NeedId], [d].[Quantity], [d].[Status], [d].[UserId], [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity], [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Donations] AS [d]
INNER JOIN [Needs] AS [n] ON [d].[NeedId] = [n].[Id]
INNER JOIN [Locations] AS [l] ON [n].[LocationId] = [l].[Id]
WHERE [d].[UserId] = @__userId_0
ORDER BY [d].[CreatedAt] DESC
2024-08-16 14:27:39.252 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Donation, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:27:39.252 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend) in 7.5478ms
2024-08-16 14:27:39.252 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:27:39.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/user/donations - - - 200 - application/json;+charset=utf-8 8.5144ms
2024-08-16 14:27:50.255 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:27:50.255 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:50.255 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.3462ms
2024-08-16 14:27:50.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:27:50.257 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:50.257 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:27:50.257 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:27:50.260 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:27:50.261 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 7 results.
2024-08-16 14:27:50.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:27:50.262 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 4.7328ms
2024-08-16 14:27:50.262 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:27:50.262 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 5.8362ms
2024-08-16 14:27:54.581 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:27:54.582 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:54.582 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:27:54.582 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:27:54.584 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:27:54.585 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 7 results.
2024-08-16 14:27:54.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:27:54.592 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 9.5305ms
2024-08-16 14:27:54.594 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:27:54.594 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 12.6256ms
2024-08-16 14:27:58.984 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14 - -
2024-08-16 14:27:58.985 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:58.985 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14 - - - 204 - - 0.3045ms
2024-08-16 14:27:58.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14 - -
2024-08-16 14:27:58.988 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - -
2024-08-16 14:27:58.988 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:58.988 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:58.989 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - - - 204 - - 0.1427ms
2024-08-16 14:27:58.989 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:27:58.989 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:27:58.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14/needs - -
2024-08-16 14:27:58.990 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:27:58.991 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:27:58.991 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:27:58.994 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:27:58.994 +07:00 [INF] Retrieved details for location ID: 14
2024-08-16 14:27:58.994 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:27:58.994 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:27:58.995 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 5.4444ms
2024-08-16 14:27:58.995 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:27:58.995 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:27:58.995 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14 - - - 200 - application/json;+charset=utf-8 6.6339ms
2024-08-16 14:27:58.995 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 4.3335ms
2024-08-16 14:27:58.995 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:27:58.995 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14/needs - - - 200 - application/json;+charset=utf-8 4.8778ms
2024-08-16 14:28:35.952 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14 - -
2024-08-16 14:28:35.952 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:35.952 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14 - - - 204 - - 0.2735ms
2024-08-16 14:28:35.954 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - -
2024-08-16 14:28:35.954 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:35.954 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/14/needs - - - 204 - - 0.2424ms
2024-08-16 14:28:35.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14 - -
2024-08-16 14:28:35.955 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:35.955 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:28:35.955 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:28:35.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/14/needs - -
2024-08-16 14:28:35.956 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:35.957 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:28:35.957 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:28:35.960 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:28:35.960 +07:00 [INF] Retrieved details for location ID: 14
2024-08-16 14:28:35.960 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:28:35.961 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 5.2973ms
2024-08-16 14:28:35.961 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:28:35.961 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14 - - - 200 - application/json;+charset=utf-8 6.4667ms
2024-08-16 14:28:35.960 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:28:35.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:28:35.962 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 5.4605ms
2024-08-16 14:28:35.962 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:28:35.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/14/needs - - - 200 - application/json;+charset=utf-8 6.2484ms
2024-08-16 14:28:39.505 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - -
2024-08-16 14:28:39.505 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:39.505 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - - - 204 - - 0.8226ms
2024-08-16 14:28:39.508 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/user/donations - -
2024-08-16 14:28:39.508 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:39.508 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:28:39.509 +07:00 [INF] Route matched with {action = "GetUserDonations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDonations() on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:28:39.513 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Condition], [d].[ContactInfo], [d].[CreatedAt], [d].[Description], [d].[NeedId], [d].[Quantity], [d].[Status], [d].[UserId], [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity], [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Donations] AS [d]
INNER JOIN [Needs] AS [n] ON [d].[NeedId] = [n].[Id]
INNER JOIN [Locations] AS [l] ON [n].[LocationId] = [l].[Id]
WHERE [d].[UserId] = @__userId_0
ORDER BY [d].[CreatedAt] DESC
2024-08-16 14:28:39.514 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Donation, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:28:39.515 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend) in 6.0238ms
2024-08-16 14:28:39.515 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:28:39.515 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/user/donations - - - 200 - application/json;+charset=utf-8 7.3299ms
2024-08-16 14:28:46.520 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:28:46.521 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:46.521 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.4367ms
2024-08-16 14:28:46.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:28:46.524 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:28:46.524 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:28:46.524 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:28:46.528 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:28:46.529 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 7 results.
2024-08-16 14:28:46.529 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:28:46.529 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 5.1429ms
2024-08-16 14:28:46.530 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:28:46.530 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 6.6978ms
2024-08-16 14:29:24.491 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/11 - -
2024-08-16 14:29:24.491 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:24.492 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:24.492 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:24.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/11 - - - 401 - - 0.9916ms
2024-08-16 14:29:24.492 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/11/needs - -
2024-08-16 14:29:24.492 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:24.492 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:24.492 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:24.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/11/needs - - - 401 - - 0.3545ms
2024-08-16 14:29:30.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/12 - -
2024-08-16 14:29:30.174 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:30.174 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:30.174 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:30.174 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/12 - - - 401 - - 0.8047ms
2024-08-16 14:29:30.175 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/12/needs - -
2024-08-16 14:29:30.175 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:30.175 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:30.175 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:30.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/12/needs - - - 401 - - 0.4818ms
2024-08-16 14:29:34.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/9 - -
2024-08-16 14:29:34.797 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:34.798 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:34.798 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:34.798 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/9 - - - 401 - - 0.6902ms
2024-08-16 14:29:34.798 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/9/needs - -
2024-08-16 14:29:34.798 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:34.798 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:34.798 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:34.798 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/9/needs - - - 401 - - 0.3573ms
2024-08-16 14:29:39.658 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/10 - -
2024-08-16 14:29:39.658 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/10/needs - -
2024-08-16 14:29:39.658 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:39.658 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:39.659 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:39.659 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:39.659 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:39.659 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:39.659 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/10/needs - - - 401 - - 0.6634ms
2024-08-16 14:29:39.659 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/10 - - - 401 - - 0.7284ms
2024-08-16 14:29:53.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=C - -
2024-08-16 14:29:53.937 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:53.938 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:53.938 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:53.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=C - - - 401 - - 0.6814ms
2024-08-16 14:29:54.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=Caaf - -
2024-08-16 14:29:54.523 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:54.523 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:54.523 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:54.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=Caaf - - - 401 - - 0.7025ms
2024-08-16 14:29:56.110 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=Cau%20gia - -
2024-08-16 14:29:56.110 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:29:56.110 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:29:56.110 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:29:56.110 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=Cau%20gia - - - 401 - - 0.4688ms
2024-08-16 14:30:01.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=c - -
2024-08-16 14:30:01.366 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:01.366 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:01.366 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:01.367 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=c - - - 401 - - 0.4921ms
2024-08-16 14:30:01.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=cAU%20 - -
2024-08-16 14:30:01.968 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:01.969 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:01.969 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:01.969 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=cAU%20 - - - 401 - - 0.6839ms
2024-08-16 14:30:02.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=cAU%20G - -
2024-08-16 14:30:02.379 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:02.379 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:02.379 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:02.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=cAU%20G - - - 401 - - 0.5662ms
2024-08-16 14:30:06.265 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=c - -
2024-08-16 14:30:06.265 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:06.265 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:06.265 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:06.266 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=c - - - 401 - - 0.7151ms
2024-08-16 14:30:09.054 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=C - -
2024-08-16 14:30:09.054 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:09.054 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:09.054 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:09.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=C - - - 401 - - 0.3476ms
2024-08-16 14:30:09.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=C%C3%A2 - -
2024-08-16 14:30:09.832 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:09.832 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:09.832 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:09.833 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=C%C3%A2 - - - 401 - - 0.5962ms
2024-08-16 14:30:10.213 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=C%E1%BA%A7 - -
2024-08-16 14:30:10.213 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:10.213 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:10.213 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:10.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=C%E1%BA%A7 - - - 401 - - 0.4144ms
2024-08-16 14:30:11.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=C%E1%BA%A7u%20gi%E1%BA%A5y - -
2024-08-16 14:30:11.459 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:11.459 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-16 14:30:11.459 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-16 14:30:11.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=C%E1%BA%A7u%20gi%E1%BA%A5y - - - 401 - - 0.4521ms
2024-08-16 14:30:27.194 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/user/login - -
2024-08-16 14:30:27.195 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:27.195 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/user/login - - - 204 - - 0.3816ms
2024-08-16 14:30:27.197 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/user/login application/json 48
2024-08-16 14:30:27.197 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:27.197 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:30:27.197 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GiveMap_Backend.Controllers.LoginModel) on controller GiveMap_Backend.Controllers.UserController (GiveMap-Backend).
2024-08-16 14:30:27.202 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-08-16 14:30:27.353 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-08-16 14:30:27.353 +07:00 [INF] Updated last login date for user ID: 3
2024-08-16 14:30:27.353 +07:00 [INF] User authenticated: test1@test.com
2024-08-16 14:30:27.354 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-16 14:30:27.354 +07:00 [INF] Executed action GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend) in 156.3529ms
2024-08-16 14:30:27.354 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.UserController.Login (GiveMap-Backend)'
2024-08-16 14:30:27.354 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/user/login application/json 48 - 200 - application/json;+charset=utf-8 157.0666ms
2024-08-16 14:30:27.374 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:30:27.374 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:27.374 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.5709ms
2024-08-16 14:30:27.378 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:30:27.378 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:27.379 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:30:27.380 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:30:27.384 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:30:27.385 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 7 results.
2024-08-16 14:30:27.386 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:30:27.386 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 6.292ms
2024-08-16 14:30:27.387 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:30:27.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 9.9065ms
2024-08-16 14:30:31.125 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/search?keyword=c%E1%BA%A7u%20gi%E1%BA%A5y - -
2024-08-16 14:30:31.126 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:31.126 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/search?keyword=c%E1%BA%A7u%20gi%E1%BA%A5y - - - 204 - - 0.3474ms
2024-08-16 14:30:31.141 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=c%E1%BA%A7u%20gi%E1%BA%A5y - -
2024-08-16 14:30:31.141 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:31.141 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend)'
2024-08-16 14:30:31.144 +07:00 [INF] Route matched with {action = "SearchLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLocations(System.String) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:30:31.168 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__keyword_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
WHERE (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Name]) > 0 OR (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Description]) > 0 OR (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Category]) > 0
2024-08-16 14:30:31.169 +07:00 [INF] Searched locations with keyword: cầu giấy. Found 4 results.
2024-08-16 14:30:31.169 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:30:31.169 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend) in 24.7074ms
2024-08-16 14:30:31.169 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend)'
2024-08-16 14:30:31.169 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=c%E1%BA%A7u%20gi%E1%BA%A5y - - - 200 - application/json;+charset=utf-8 28.4206ms
2024-08-16 14:30:45.330 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/search?keyword=Y%C3%AAn - -
2024-08-16 14:30:45.331 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:45.331 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/search?keyword=Y%C3%AAn - - - 204 - - 0.3102ms
2024-08-16 14:30:45.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=Y%C3%AAn - -
2024-08-16 14:30:45.347 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:45.347 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend)'
2024-08-16 14:30:45.347 +07:00 [INF] Route matched with {action = "SearchLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLocations(System.String) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:30:45.349 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__keyword_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
WHERE (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Name]) > 0 OR (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Description]) > 0 OR (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Category]) > 0
2024-08-16 14:30:45.350 +07:00 [INF] Searched locations with keyword: Yên. Found 2 results.
2024-08-16 14:30:45.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:30:45.350 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend) in 2.8609ms
2024-08-16 14:30:45.350 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend)'
2024-08-16 14:30:45.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=Y%C3%AAn - - - 200 - application/json;+charset=utf-8 3.4660ms
2024-08-16 14:30:46.119 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/search?keyword=Y%C3%AAn%20h%C3%B2a - -
2024-08-16 14:30:46.120 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:46.120 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/search?keyword=Y%C3%AAn%20h%C3%B2a - - - 204 - - 0.2939ms
2024-08-16 14:30:46.122 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/search?keyword=Y%C3%AAn%20h%C3%B2a - -
2024-08-16 14:30:46.122 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:30:46.122 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend)'
2024-08-16 14:30:46.122 +07:00 [INF] Route matched with {action = "SearchLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLocations(System.String) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:30:46.124 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__keyword_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
WHERE (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Name]) > 0 OR (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Description]) > 0 OR (@__keyword_0 LIKE N'') OR CHARINDEX(@__keyword_0, [l].[Category]) > 0
2024-08-16 14:30:46.124 +07:00 [INF] Searched locations with keyword: Yên hòa. Found 1 results.
2024-08-16 14:30:46.124 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:30:46.125 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend) in 2.5352ms
2024-08-16 14:30:46.125 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.SearchLocations (GiveMap-Backend)'
2024-08-16 14:30:46.125 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/search?keyword=Y%C3%AAn%20h%C3%B2a - - - 200 - application/json;+charset=utf-8 3.1729ms
2024-08-16 14:31:13.582 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:31:13.582 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:31:13.583 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.7683ms
2024-08-16 14:31:13.593 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:31:13.593 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:31:13.594 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:31:13.594 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:31:13.609 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:31:13.611 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 7 results.
2024-08-16 14:31:13.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:31:13.612 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 17.1387ms
2024-08-16 14:31:13.612 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:31:13.612 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 18.9251ms
2024-08-16 14:31:35.442 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:31:35.443 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:31:35.443 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.3488ms
2024-08-16 14:31:35.445 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location application/json 196
2024-08-16 14:31:35.445 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:31:35.446 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:31:35.446 +07:00 [INF] Route matched with {action = "AddLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLocation(GiveMap_Backend.Controllers.AddLocationModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:31:35.453 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Locations] ([Category], [CreatedAt], [Description], [ImageUrls], [Latitude], [Longitude], [Name], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-08-16 14:31:35.453 +07:00 [INF] New location added: 25 Ng. 112 Đ. Hoàng Quốc Việt, Cổ Nhuế, Cầu Giấy, Hà Nội, Vietnam at (21.04761850651136, 105.79322596727499)
2024-08-16 14:31:35.453 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:31:35.454 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend) in 7.7403ms
2024-08-16 14:31:35.454 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:31:35.454 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location application/json 196 - 201 - application/json;+charset=utf-8 8.5570ms
2024-08-16 14:31:38.881 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:31:38.881 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:31:38.883 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:31:38.883 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:31:38.889 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:31:38.890 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 8 results.
2024-08-16 14:31:38.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:31:38.891 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 7.7353ms
2024-08-16 14:31:38.891 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:31:38.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 11.3758ms
2024-08-16 14:32:22.091 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:32:22.092 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:22.092 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.2956ms
2024-08-16 14:32:22.094 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location application/json 263
2024-08-16 14:32:22.094 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:22.095 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:32:22.095 +07:00 [INF] Route matched with {action = "AddLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLocation(GiveMap_Backend.Controllers.AddLocationModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:32:22.101 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Locations] ([Category], [CreatedAt], [Description], [ImageUrls], [Latitude], [Longitude], [Name], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-08-16 14:32:22.102 +07:00 [INF] New location added: 44 A19, 44 A19/44 A19 Tổ 03, Khu tập thể Nghĩa Tân, Cầu Giấy, Hà Nội, Vietnam at (21.044634592953386, 105.79341908632406)
2024-08-16 14:32:22.102 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:32:22.102 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend) in 7.5001ms
2024-08-16 14:32:22.103 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddLocation (GiveMap-Backend)'
2024-08-16 14:32:22.103 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location application/json 263 - 201 - application/json;+charset=utf-8 8.3935ms
2024-08-16 14:32:27.683 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/16 - -
2024-08-16 14:32:27.683 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:27.683 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/16 - - - 204 - - 0.3693ms
2024-08-16 14:32:27.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/16 - -
2024-08-16 14:32:27.686 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:27.686 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:32:27.686 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:32:27.690 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:32:27.691 +07:00 [INF] Retrieved details for location ID: 16
2024-08-16 14:32:27.691 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:32:27.691 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 5.0008ms
2024-08-16 14:32:27.691 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:32:27.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/16 - - - 200 - application/json;+charset=utf-8 5.6922ms
2024-08-16 14:32:27.694 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - -
2024-08-16 14:32:27.694 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:27.694 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - - - 204 - - 0.2203ms
2024-08-16 14:32:27.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/16/needs - -
2024-08-16 14:32:27.697 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:27.697 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:32:27.697 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:32:27.700 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:32:27.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:32:27.700 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 2.9715ms
2024-08-16 14:32:27.700 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:32:27.700 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/16/needs - - - 200 - application/json;+charset=utf-8 3.6797ms
2024-08-16 14:32:42.430 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - -
2024-08-16 14:32:42.430 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:42.430 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - - - 204 - - 0.3229ms
2024-08-16 14:32:42.432 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location/16/needs application/json 65
2024-08-16 14:32:42.432 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:32:42.433 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend)'
2024-08-16 14:32:42.433 +07:00 [INF] Route matched with {action = "AddNeed", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNeed(Int32, GiveMap_Backend.Controllers.AddNeedModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:32:42.442 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Needs] ([Category], [CreatedAt], [Description], [LocationId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-08-16 14:32:42.443 +07:00 [INF] New need added for location ID: 16
2024-08-16 14:32:42.443 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Need'.
2024-08-16 14:32:42.443 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend) in 10.2612ms
2024-08-16 14:32:42.443 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend)'
2024-08-16 14:32:42.443 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location/16/needs application/json 65 - 201 - application/json;+charset=utf-8 10.9220ms
2024-08-16 14:33:00.048 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/16 - -
2024-08-16 14:33:00.048 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:00.048 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/16 - - - 204 - - 0.2387ms
2024-08-16 14:33:00.050 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/16 - -
2024-08-16 14:33:00.050 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:00.051 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:33:00.051 +07:00 [INF] Route matched with {action = "GetLocationDetails", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationDetails(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:33:00.052 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsEmailConfirmed], [u].[LastLoginDate], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordResetTokenExpires], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Locations] AS [l]
INNER JOIN [Users] AS [u] ON [l].[UserId] = [u].[Id]
WHERE [l].[Id] = @__locationId_0
2024-08-16 14:33:00.053 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - -
2024-08-16 14:33:00.053 +07:00 [INF] Retrieved details for location ID: 16
2024-08-16 14:33:00.053 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:00.053 +07:00 [INF] Executing OkObjectResult, writing value of type 'GiveMap_Backend.Models.Location'.
2024-08-16 14:33:00.053 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - - - 204 - - 0.3497ms
2024-08-16 14:33:00.053 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend) in 2.4482ms
2024-08-16 14:33:00.053 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationDetails (GiveMap-Backend)'
2024-08-16 14:33:00.053 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/16 - - - 200 - application/json;+charset=utf-8 3.0064ms
2024-08-16 14:33:00.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/16/needs - -
2024-08-16 14:33:00.056 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:00.056 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:33:00.056 +07:00 [INF] Route matched with {action = "GetLocationNeeds", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationNeeds(Int32) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:33:00.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity]
FROM [Needs] AS [n]
WHERE [n].[LocationId] = @__locationId_0
2024-08-16 14:33:00.059 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Need, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:33:00.059 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend) in 2.8083ms
2024-08-16 14:33:00.059 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocationNeeds (GiveMap-Backend)'
2024-08-16 14:33:00.060 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/16/needs - - - 200 - application/json;+charset=utf-8 3.7157ms
2024-08-16 14:33:13.629 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - -
2024-08-16 14:33:13.629 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:13.629 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/16/needs - - - 204 - - 0.3347ms
2024-08-16 14:33:13.631 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location/16/needs application/json 67
2024-08-16 14:33:13.631 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:13.631 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend)'
2024-08-16 14:33:13.631 +07:00 [INF] Route matched with {action = "AddNeed", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNeed(Int32, GiveMap_Backend.Controllers.AddNeedModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:33:13.642 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Needs] ([Category], [CreatedAt], [Description], [LocationId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-08-16 14:33:13.643 +07:00 [INF] New need added for location ID: 16
2024-08-16 14:33:13.643 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Need'.
2024-08-16 14:33:13.643 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend) in 12.3078ms
2024-08-16 14:33:13.643 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.AddNeed (GiveMap-Backend)'
2024-08-16 14:33:13.644 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location/16/needs application/json 67 - 201 - application/json;+charset=utf-8 12.9269ms
2024-08-16 14:33:35.843 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/needs/6/donations - -
2024-08-16 14:33:35.843 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:35.843 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/needs/6/donations - - - 204 - - 0.2427ms
2024-08-16 14:33:35.845 +07:00 [INF] Request starting HTTP/2 POST https://localhost:44384/api/location/needs/6/donations application/json 121
2024-08-16 14:33:35.845 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:35.845 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.OfferDonation (GiveMap-Backend)'
2024-08-16 14:33:35.846 +07:00 [INF] Route matched with {action = "OfferDonation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OfferDonation(Int32, GiveMap_Backend.Controllers.OfferDonationModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:33:35.858 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donations] ([Condition], [ContactInfo], [CreatedAt], [Description], [NeedId], [Quantity], [Status], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-08-16 14:33:35.859 +07:00 [INF] New donation offered for need ID: 6
2024-08-16 14:33:35.859 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'GiveMap_Backend.Models.Donation'.
2024-08-16 14:33:35.859 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.OfferDonation (GiveMap-Backend) in 13.6308ms
2024-08-16 14:33:35.859 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.OfferDonation (GiveMap-Backend)'
2024-08-16 14:33:35.859 +07:00 [INF] Request finished HTTP/2 POST https://localhost:44384/api/location/needs/6/donations application/json 121 - 201 - application/json;+charset=utf-8 14.2800ms
2024-08-16 14:33:43.069 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - -
2024-08-16 14:33:43.069 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:43.069 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location/user/donations - - - 204 - - 0.3247ms
2024-08-16 14:33:43.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location/user/donations - -
2024-08-16 14:33:43.073 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:33:43.073 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:33:43.073 +07:00 [INF] Route matched with {action = "GetUserDonations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserDonations() on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:33:43.079 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Condition], [d].[ContactInfo], [d].[CreatedAt], [d].[Description], [d].[NeedId], [d].[Quantity], [d].[Status], [d].[UserId], [n].[Id], [n].[Category], [n].[CreatedAt], [n].[Description], [n].[LocationId], [n].[Quantity], [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Donations] AS [d]
INNER JOIN [Needs] AS [n] ON [d].[NeedId] = [n].[Id]
INNER JOIN [Locations] AS [l] ON [n].[LocationId] = [l].[Id]
WHERE [d].[UserId] = @__userId_0
ORDER BY [d].[CreatedAt] DESC
2024-08-16 14:33:43.080 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Donation, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:33:43.080 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend) in 7.2571ms
2024-08-16 14:33:43.080 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetUserDonations (GiveMap-Backend)'
2024-08-16 14:33:43.081 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location/user/donations - - - 200 - application/json;+charset=utf-8 8.0287ms
2024-08-16 14:34:43.353 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44384/api/location - -
2024-08-16 14:34:43.353 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:34:43.354 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44384/api/location - - - 204 - - 0.9010ms
2024-08-16 14:34:43.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44384/api/location - -
2024-08-16 14:34:43.357 +07:00 [INF] CORS policy execution successful.
2024-08-16 14:34:43.358 +07:00 [INF] Executing endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:34:43.358 +07:00 [INF] Route matched with {action = "GetLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocations(GiveMap_Backend.Controllers.LocationFilterModel) on controller GiveMap_Backend.Controllers.LocationController (GiveMap-Backend).
2024-08-16 14:34:43.362 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Category], [l].[CreatedAt], [l].[Description], [l].[ImageUrls], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[UpdatedAt], [l].[UserId]
FROM [Locations] AS [l]
2024-08-16 14:34:43.363 +07:00 [INF] Retrieved locations. Keyword: , Category: , FromDate: . Found 9 results.
2024-08-16 14:34:43.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[GiveMap_Backend.Models.Location, GiveMap-Backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-16 14:34:43.364 +07:00 [INF] Executed action GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend) in 5.7193ms
2024-08-16 14:34:43.364 +07:00 [INF] Executed endpoint 'GiveMap_Backend.Controllers.LocationController.GetLocations (GiveMap-Backend)'
2024-08-16 14:34:43.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44384/api/location - - - 200 - application/json;+charset=utf-8 6.3644ms
2024-08-16 16:27:46.864 +07:00 [INF] Application is shutting down...
